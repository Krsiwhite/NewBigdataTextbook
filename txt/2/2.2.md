## 2.2 HDFS：仓库管理员
&emsp;&emsp;HDFS是一个标准的主从（Master/Slave）体系结构的分布式系统，被设计成适合在通用硬件上运行；HDFS集群包含一个主机(NameNode)和多个从机(DataNode)，它们各司其职提供服务，用户可以通过多种方式同 NameNode 进行交互以访问文件系统。HDFS采用Java语言开发，因此任何支持Java的机器都可以部署 HDFS。

&emsp;&emsp;在逻辑设计上，其采用传统的层次型文件组织结构。用户或者应用程序可以创建目录，然后将文件保存在这些目录里。文件系统名字空间的层次结构和大多数现有的文件系统类似：用户可以创建、删除、移动或重命名文件。这样的目录结构由 NameNode 进行管理和维护，同时 NameNode 还负责与用户交互，进行文件的读写操作。而具体的数据以数据块（Block）的形式存储在 DataNode 上，DataNode是 HDFS 集群中真正存储数据的节点。举例来说，当用户要向HDFS中写入一个文件时，会与 NameNode 交互，NameNode会将数据划分为固定大小，对应数量的多个Block，这些Block最终会被分散存储到多个DataNode上，这就实现了分布式存储。一般来说，集群中所有的主机上都有DataNode，而只有一台主机上运行着NameNode。

&emsp;&emsp;HDFS 运行在多台主机上，如何决定数据该存储在哪台主机？在这其中，主机和从机也就是 NameNode 和 DataNode 的作用各是什么？让我们首先部署一个 HDFS 集群，再带着问题一起学习。

### 2.2.1 部署 HDFS 集群

